<Project xmlns="http://schemas.microsoft.com/developer/msbuild/2003">

  <PropertyGroup Condition = " $(MSBuildProjectFullPath.Contains('src\NuGet.Core')) == 'true' or $(MSBuildProjectFullPath.Contains('test\NuGet.Core')) == 'true'">
    <StrongNameKey>$(MS_PFX_PATH)</StrongNameKey>
  </PropertyGroup>
  <PropertyGroup Condition = " $(MSBuildProjectFullPath.Contains('src\NuGet.Clients')) == 'true' or $(MSBuildProjectFullPath.Contains('test\NuGet.Clients')) == 'true'">
    <StrongNameKey>$(NUGET_PFX_PATH)</StrongNameKey>
  </PropertyGroup>

  <PropertyGroup Condition="Exists($(StrongNameKey))">
    <SignAssembly>true</SignAssembly>
    <AssemblyOriginatorKeyFile Condition=" '$(AssemblyOriginatorKeyFile)' == '' ">$(StrongNameKey)</AssemblyOriginatorKeyFile>
    <DelaySign>true</DelaySign>
    <DefineConstants>$(DefineConstants);SIGNED_BUILD</DefineConstants>
  </PropertyGroup>

</Project>